<template name="conversationEditor">
	<div class="conversationEditorContainer">

<!-- 		we're going to use helpers here to make this component
		reusable. Either load it with data or, if there's no data,
		maybe initiate an empty local collection and clone it
		during insert at the end?
 -->
			{{#each discussionLinesData}}
	 		<div class="talkerSpeechLineContainer {{#if isItTheTalker}}talker{{else}}listener{{/if}}">
	 			
	 			<div class="talkerSPeechLinePlaceholder" style="{{_style arg='placeHolder1'}};">
	 			</div>
	 			
	 			<div class="talkerSPeechLinePlaceholder" style="{{_style arg='placeHolder2'}};">
	 			</div>
	 			
	 			<div class="speechBalloonContainer" style="{{_style arg='speechBalloon'}};">
	 				<div class="speechBalloonLabel" style="background-color: 
	 				{{getRelevantPeepColor}}"> 
	 					<span class="{{peepName}}"> {{peepName}} </span> 
		 				<button tabindex="-1" class="delete">x</button>
	 				</div>
					<textarea oninput='this.style.height = ""; this.style.height = this.scrollHeight - 20 + "px";' class="speechBalloon" type="textArea" value="{{lineContent}}" maxlength="250" onfocus="this.select()"></textarea>
	 			</div>

	 			<div class="drawingPreview" style="{{_style arg='drawing'}};">
	 				<img src="/img/test.png" style="{{_style arg='drawingChild'}}">
	 			</div>


	 			<div class="talkerSPeechLinePlaceholder" style="{{_style arg='placeHolder3'}};">
	 			</div>
	 	
	 		</div>
			{{/each}}

		<div class="addTextContainer">
			<button class="addTextButton">Ajouter une ligne de dialogue!</button>

			{{#if isItEditingView}}
			{{else}}
			<div class="saveContainer">
				<input type="text" name="newDiscussionName">
				<button maxlength="42" class="save">Sauvegarder</button>
			</div>
			{{/if}}
		</div>

	</div>
</template>
